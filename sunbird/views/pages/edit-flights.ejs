<!DOCTYPE html>
<html lang="en">
<head>
  <% include ../partials/head %>
<body>
  
  <% include ../partials/header %>

  <div class="container">

    <% include ../partials/nav %>

    <main id="flights">
      <div class="new-flights">
        <form onsubmit="return false">
          <label for="name">Name</label>
          <input id="name"
            type="text"
            placeholder="Enter flight name"
            v-model="currentFlight.name"/>
          <label for="from">From</label>
          <input id="from"
            type="number"
            placeholder="Enter departure point"
            v-model="currentFlight.from_point"/>
          <label for="to">To</label>
          <input id="to"
            type="number"
            placeholder="Enter destination point"
            v-model="currentFlight.to_point"/>
          <label for="expiration-date">Expiration Date</label>
          <input id="expiration-date"
            type="date"
            placeholder="Enter expiration date"
            v-model="currentFlight.expiration_date"/>
          <label for="departure">Departure Date</label>
          <input id="departure"
            type="datetime"
            placeholder="Enter departure date"
            v-model="currentFlight.departure"/>
          <label for="duration">Duration, hours</label>
          <input id="duration"
            type="number"
            placeholder="Enter duration"
            v-model="currentFlight.duration"/>
          <label for="price">Price, USD</label>
          <input id="price"
            type="number"
            step="0.01"
            placeholder="Enter price"
            v-model="currentFlight.price"/>
          <label for="image">Image</label>
          <input id="image" type="file" placeholder="Choose image" />
          <label for="description">Description</label>
          <textarea id="description" v-model="currentFlight.description">
          </textarea>
          <div class="controls">
            <button v-on:click="reset">Reset</button>
            <button v-on:click="submit">Submit</button>
          </div>
        </form>
      </div>
      <div class="table flights">
        <table>
          <caption>Flights</caption>
          <thead>
            <tr>
              <th>ID</th>
              <th>Image</th>
              <th>Name</th>
              <th>From</th>
              <th>To</th>
              <th>Expires</th>
              <th>Departure</th>
              <th>Price</th>
              <th>Edit</th>
              <th>Remove</th>
            </tr>
          </thead>
          <tbody>
            <tr v-for="flight in flights">
              <td>{{ flight.id }}</td>
              <td>
                <img v-bind:src="flight.image" alt="No Image" />
              </td>
              <td>{{ flight.name }}</td>
              <td>{{ flight.from_point }}</td>
              <td>{{ flight.to_point }}</td>
              <td>{{ flight.expiration_date }}</td>
              <td>{{ flight.departure }}</td>
              <td>{{ flight.price }}$</td>
              <td>
                <button class="edit" v-on:click="edit(flight)">Edit</button>
              </td>
              <td>
                <button class="remove" v-on:click="remove(flight)">Remove</button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </main>

  </div>
  <% include ../partials/footer %>
  <% include ../partials/scripts %>

  <script src="javascripts/edit-flights.js"></script>

</body>
</html>